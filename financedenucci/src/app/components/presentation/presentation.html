<!-- Splash Screen -->
<div id="splash-screen" [class.hidden]="!showSplash" >
    <div class="splash-logo">
      <h1 class="splash-title">Ademicon</h1>
      <span class="splash-subtitle">Gestão Private</span>
    </div>
  </div>
  
  <!-- Main Layout -->
  <div class="main-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-controls">
        <button class="control-btn" (click)="toggleTheme()" title="Alternar Tema">
          <span id="theme-icon">
            <svg class="icon-svg" viewBox="0 0 24 24" *ngIf="currentTheme === 'dark'">
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg class="icon-svg" viewBox="0 0 24 24" *ngIf="currentTheme === 'light'">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </span>
        </button>
        <button class="control-btn" (click)="showSection('calc_lances')" title="Calculadora de Lances">
          <svg class="icon-svg" viewBox="0 0 24 24">
            <rect x="4" y="2" width="16" height="20" rx="2"></rect>
            <line x1="8" y1="6" x2="16" y2="6"></line>
            <line x1="16" y1="14" x2="16" y2="14"></line>
            <line x1="8" y1="14" x2="8" y2="14"></line>
            <line x1="12" y1="14" x2="12" y2="14"></line>
            <line x1="16" y1="18" x2="16" y2="18"></line>
            <line x1="8" y1="18" x2="8" y2="18"></line>
            <line x1="12" y1="18" x2="12" y2="18"></line>
          </svg>
        </button>
        <button class="control-btn" (click)="showModalConfig = true" title="Configurações Globais">
          <svg class="icon-svg" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
        </button>
        <button class="control-btn" (click)="abrirModalRelatorio()" title="Gerar Relatório PDF">
          <svg class="icon-svg" viewBox="0 0 24 24">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>
        </button>
      </div>
  
      <div class="brand">Ademicon <span>GESTÃO PRIVATE</span></div>
  
      <div class="nav-item" [class.active]="activeSection === 'home'" (click)="showSection('home')">Sobre a Ademicon</div>
      <div class="nav-item" [class.active]="activeSection === 'solucao'" (click)="showSection('solucao')">Solução Private</div>
      <div class="nav-item" [class.active]="activeSection === 'cenario'" (click)="showSection('cenario')">Cenário de Crédito</div>
      <div class="nav-item" [class.active]="activeSection === 'investimento'" (click)="showSection('investimento')">Estratégia de Liquidez</div>
      <div class="nav-item" [class.active]="activeSection === 'equity'" (click)="showSection('equity')">Equity (Giro de Capital)</div>
      <div class="nav-item" [class.active]="activeSection === 'alavancagem'" (click)="showSection('alavancagem')">Alavancagem Patrimonial</div>
      <div class="nav-item" [class.active]="activeSection === 'assuncao'" (click)="showSection('assuncao')">Assunção de Dívida</div>
      <div class="nav-item" [class.active]="activeSection === 'gestao'" (click)="showSection('gestao')">Gestão Private</div>
      <div class="nav-item" [class.active]="activeSection === 'perfil'" (click)="showSection('perfil')">Perfil do Cliente</div>
    </div>
  
    <!-- Content Area -->
    <div class="content">
      
      <!-- Calculator Section -->
      <div id="calc_lances" class="section" [class.active]="activeSection === 'calc_lances'">
        <h1>Calculadora de Lances</h1>
        <h2>Estratégia de Contemplação Acelerada</h2>
        
        <div class="grid-2">
          <div class="control-panel">
            <h3 style="border-bottom: 1px solid var(--border); padding-bottom: 10px; font-weight: 400;">Simulação de Oferta</h3>
            
            <label>Valor do Crédito (Carta)</label>
            <input type="text" [(ngModel)]="cl_credito" placeholder="R$ 500.000,00" (input)="formatarMoedaInput($event)">
            
            <label>Prazo Total do Grupo (Meses)</label>
            <input type="number" [(ngModel)]="cl_prazo" placeholder="Ex: 200">
            
            <label>Modalidade de Lance</label>
            <select [(ngModel)]="cl_tipo" style="padding:10px 0; border:none; border-bottom:1px solid var(--input-border); background:transparent; color:var(--text-main); width:100%; font-family:'Montserrat'; font-size:20px; font-weight:300;">
              <option value="livre">Lance Livre (Recurso Próprio)</option>
              <option value="embutido">Lance Embutido (Uso da Carta)</option>
            </select>
  
            <label>Percentual de Lance (%)</label>
            <div class="input-group input-suffix">
              <input type="text" [(ngModel)]="cl_lance_pct" placeholder="Ex: 30,00" (keyup)="formatarDecimalInput($event)">
              <span class="suffix-symbol">%</span>
            </div>
  
            <button class="btn-action" (click)="calcLances()">Calcular Cenário</button>
          </div>
  
        <!-- Calculator Results Example -->
<div *ngIf="cl_results_visible" style="animation: fadeIn 0.5s;">
  <div class="card" style="border-left: 4px solid var(--gold);">
    <h3 style="color:var(--gold);">Resultado da Estratégia</h3>
    
    <div style="margin-bottom: 20px;">
      <span class="label-result">Crédito Líquido (Dinheiro na Mão)</span>
      <div class="big-number" style="color:var(--text-main);">
        {{ formatBRL(cl_results.creditoLiquido) }}
      </div>
    </div>
    
    <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid var(--success); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <span class="label-result" style="margin:0; color:var(--success);">Custo Efetivo do Dinheiro</span>
        <strong style="font-size:24px; color:var(--success);">{{ cl_results.custoMensal }}</strong>
      </div>
    </div>

    <div class="grid-2">
      <div>
        <span class="label-result">Valor do Lance Oferta</span>
        <strong style="font-size:20px; color:var(--brand-red);">{{ cl_results.valorLance }}</strong>
      </div>
      <div>
        <span class="label-result">Amortização de Dívida</span>
        <strong style="font-size:20px; color:var(--success);">{{ cl_results.amortizacao }}</strong>
      </div>
    </div>

    <hr style="border: 0; border-top: 1px solid var(--border); margin: 25px 0;">

    <div style="background: var(--hover-item); padding: 20px; border-radius: 8px;">
      <div class="grid-2">
        <div>
          <span class="label-result">Parcela Cheia Atual</span>
          <strong style="color:var(--text-secondary); font-size: 20px;">{{ cl_results.parcelaAtual }}</strong>
        </div>
        <div>
          <span class="label-result" style="color:var(--text-main);">Nova Parcela Estimada</span>
          <strong style="color:var(--text-main); font-size: 24px;">{{ cl_results.parcelaPos }}</strong>
        </div>
      </div>
      <small style="color:var(--text-muted); font-size:10px; display:block; margin-top:10px; text-align:center;">
        {{ cl_results.obsParcela }}
      </small>
    </div>
  </div>
</div>
  
      <!-- Home Section -->
      <div id="home" class="section" [class.active]="activeSection === 'home'">
        <h1>A Solidez Ademicon</h1>
        <h2>Trajetória, Governança & Market Share</h2>
        <p style="color:var(--text-muted); margin-bottom:20px; font-weight: 300;">Clique nos itens para revelar a história.</p>
        
        <div class="grid-2">
          <div>
            <h3 style="border-bottom: 1px solid var(--border); padding-bottom:10px; margin-bottom:20px; font-weight: 300;">Cronologia da Inovação</h3>
            
            <div class="timeline-item" (click)="toggleContent('hist1')">
              <div class="timeline-header">
                <span class="year">1991 - A Fundação</span>
                <span class="expand-icon">
                  <svg class="icon-svg icon-sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </span>
              </div>
              <p *ngIf="expandedContent['hist1']" class="timeline-content">
                Fundada em Curitiba por 36 empresários que buscavam crédito acessível para alavancar negócios na construção civil. Autorizada pelo BACEN.
              </p>
            </div>
  
            <div class="timeline-item" (click)="toggleContent('hist2')">
              <div class="timeline-header">
                <span class="year">Validação & Expansão</span>
                <span class="expand-icon">
                  <svg class="icon-svg icon-sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </span>
              </div>
              <p *ngIf="expandedContent['hist2']" class="timeline-content">
                Crescimento exponencial atingindo a marca histórica de R$ 5 Bilhões em créditos administrados anualmente.
              </p>
            </div>
  
            <div class="timeline-item" (click)="toggleContent('hist3')">
              <div class="timeline-header">
                <span class="year">2021 - O Mercado de Equity</span>
                <span class="expand-icon">
                  <svg class="icon-svg icon-sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </span>
              </div>
              <p *ngIf="expandedContent['hist3']" class="timeline-content">
                Entrada no mercado de Equity oferecendo crédito, investimento e alavancagem patrimonial.
              </p>
            </div>
  
            <div class="timeline-item" (click)="toggleContent('hist4')">
              <div class="timeline-header">
                <span class="year">2023 - Aporte de Fundos Soberanos</span>
                <span class="expand-icon">
                  <svg class="icon-svg icon-sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </span>
              </div>
              <p *ngIf="expandedContent['hist4']" class="timeline-content">
                Investimentos da <strong>23S Capital</strong> e <strong>Treecorp</strong> para acelerar o crescimento.
              </p>
            </div>
          </div>
  
          <div>
            <h3 style="border-bottom: 1px solid var(--border); padding-bottom:10px; margin-bottom:20px; font-weight: 300;">Posicionamento Atual</h3>
            
            <div class="card card-volume" (click)="toggleContent('vol_reveal')">
              <div style="text-align: center; padding: 10px 0;">
                <span style="font-size: 10px; letter-spacing: 2px; color: var(--brand-red); text-transform: uppercase;">Volume em Carteira</span>
                <div *ngIf="!expandedContent['vol_reveal']" style="font-size: 20px; color: #666; margin: 10px 0;">[VER NÚMEROS]</div>
                <div *ngIf="expandedContent['vol_reveal']" style="animation: fadeIn 0.5s;">
                  <strong style="display: block; font-size: 42px; color: var(--text-main); margin: 10px 0; font-weight: 600;">R$ 40 Bilhões</strong>
                </div>
                <span style="font-size: 11px; color: #888;">Administrados Anualmente</span>
              </div>
            </div>
  
            <div style="margin-top: 20px;">
              <div class="market-badge" (click)="toggleContent('bad1')">
                <div style="display:flex; justify-content:space-between;">
                  <strong>Maior Administradora Independente</strong>
                  <span><svg class="icon-svg icon-sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
                </div>
                <span *ngIf="expandedContent['bad1']" class="badge-content">
                  Líder absoluta entre as independentes e 4ª Maior Administradora do Brasil (Geral).
                </span>
              </div>
  
              <div class="market-badge" style="border-left-color: var(--brand-red);" (click)="toggleContent('bad2')">
                <div style="display:flex; justify-content:space-between;">
                  <strong>Operação White Label</strong>
                  <span><svg class="icon-svg icon-sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
                </div>
                <span *ngIf="expandedContent['bad2']" class="badge-content">
                  Grandes marcas utilizam a infraestrutura Ademicon para seus produtos financeiros.
                </span>
              </div>
  
              <div class="market-badge" style="border-left-color: var(--text-main);" (click)="toggleContent('bad3')">
                <div style="display:flex; justify-content:space-between;">
                  <strong>Gestão Private</strong>
                  <span><svg class="icon-svg icon-sm" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
                </div>
                <span *ngIf="expandedContent['bad3']" class="badge-content">
                  Estrutura exclusiva dedicada ao atendimento de clientes de alta renda, com foco em planejamento tributário e sucessório.
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Other sections follow same pattern... -->
      <!-- Due to length, I'm showing the pattern. You'll replicate for: solucao, cenario, investimento, equity, alavancagem, assuncao, gestao, perfil -->
  
      <!-- Legal Footer -->
      <div class="legal-footer">
        <p>Ademicon Consórcio e Investimento © 2024. Gestão Private.</p>
        <p style="color:var(--text-muted);">Este material tem caráter meramente informativo e de simulação financeira, não configurando promessa de contemplação. <br>Os valores apresentados baseiam-se em projeções econômicas e regras vigentes do sistema de consórcios (Lei 11.795/2008).</p>
      </div>
    </div>
  </div>
  
  <!-- Config Modal -->
  <div *ngIf="showModalConfig" class="modal-overlay" (click)="showModalConfig = false">
    <div class="modal-content-box" (click)="$event.stopPropagation()" style="max-width: 500px;">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; border-bottom:1px solid var(--border); padding-bottom:15px;">
        <h2 style="margin:0; font-size:18px; color: var(--text-main);">Parâmetros Globais</h2>
        <span (click)="showModalConfig = false" style="cursor:pointer; font-size:20px;">✕</span>
      </div>
      
      <div style="height: 60vh; overflow-y: auto; padding-right: 10px;">
        <h4 style="color: var(--brand-red); margin-bottom: 10px;">Custos do Grupo (Ademicon)</h4>
        
        <label>Taxa Administrativa Total (%)</label>
        <div class="input-group input-suffix">
          <input type="text" [(ngModel)]="cfg_taxa_adm" placeholder="24.00" (keyup)="formatarDecimalInput($event)">
          <span class="suffix-symbol">%</span>
        </div>
        
        <label>Fundo de Reserva Total (%)</label>
        <div class="input-group input-suffix">
          <input type="text" [(ngModel)]="cfg_fundo_reserva" placeholder="1.00" (keyup)="formatarDecimalInput($event)">
          <span class="suffix-symbol">%</span>
        </div>
  
        <label>Prazo Padrão do Grupo (Meses)</label>
        <input type="number" [(ngModel)]="cfg_prazo" placeholder="200">
  
        <!-- Add other config fields... -->
      </div>
  
      <div style="margin-top:20px;">
        <button class="btn-action" (click)="salvarConfiguracoes()">Salvar Parâmetros</button>
      </div>
    </div>
  </div>